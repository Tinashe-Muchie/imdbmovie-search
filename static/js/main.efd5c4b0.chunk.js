(this["webpackJsonpimdbmovie-search"]=this["webpackJsonpimdbmovie-search"]||[]).push([[0],{19:function(e,t,c){},20:function(e,t,c){},21:function(e,t,c){},30:function(e,t,c){},31:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){"use strict";c.r(t);var a=c(0),i=c(1),s=c.n(i),n=c(22),d=c.n(n),r=(c(29),c(30),c(9)),l=c(2);c(31);function j(){return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"header",children:[Object(a.jsx)("div",{}),Object(a.jsxs)("ul",{className:"nav-links",children:[Object(a.jsx)("li",{children:Object(a.jsx)(r.b,{to:"/",className:"link",children:"Watch-List"})}),Object(a.jsx)("li",{children:Object(a.jsx)(r.b,{to:"/Watched",className:"link",children:"Watched"})}),Object(a.jsx)("li",{children:Object(a.jsx)(r.b,{to:"/add",className:"link",children:" +Add"})})]})]})})}var o=c(12),h=(c(19),c(18)),b=c(7);var O=function(e,t){switch(t.type){case"ADD_MOVIE_TO_WATCHLIST":return Object(b.a)(Object(b.a)({},e),{},{addWatchlist:[t.value].concat(Object(h.a)(e.addWatchlist))});case"ADD_MOVIE_TO_WATCHED":return Object(b.a)(Object(b.a)({},e),{},{addWatched:[t.value].concat(Object(h.a)(e.addWatched))});case"REMOVE_MOVIE_FROM_WATCHLIST":return Object(b.a)(Object(b.a)({},e),{},{addWatchlist:e.addWatchlist.filter((function(e){return e.id!==t.value}))});case"REMOVE_MOVIE_FROM_WATCHED":return Object(b.a)(Object(b.a)({},e),{},{addWatched:e.addWatched.filter((function(e){return e.id!==t.value}))});default:return e}},u=Object(i.createContext)(),m={addWatchlist:localStorage.getItem("watchlist")?JSON.parse(localStorage.getItem("watchlist")):[],addWatched:localStorage.getItem("watched")?JSON.parse(localStorage.getItem("watched")):[]};var v=function(e){var t=Object(i.useReducer)(O,m),c=Object(o.a)(t,2),s=c[0],n=c[1];return Object(i.useEffect)((function(){localStorage.setItem("watchlist",JSON.stringify(s.addWatchlist)),localStorage.setItem("watched",JSON.stringify(s.addWatched))}),[s]),Object(a.jsx)("div",{children:Object(a.jsx)(u.Provider,{value:{addWatchlist:s.addWatchlist,addWatched:s.addWatched,addMovieToWatchlist:function(e){n({type:"ADD_MOVIE_TO_WATCHLIST",value:e})},addMovieToWatched:function(e){n({type:"ADD_MOVIE_TO_WATCHED",value:e})},removeMovieFromWatchlist:function(e){n({type:"REMOVE_MOVIE_FROM_WATCHLIST",value:e})},removeMovieFromWatched:function(e){n({type:"REMOVE_MOVIE_FROM_WATCHED",value:e})}},children:e.children})})};function x(e){var t=Object(i.useContext)(u),c=t.addMovieToWatchlist,s=t.addWatchlist,n=t.addMovieToWatched,d=t.addWatched,r=s.find((function(t){return t.id===e.movie.id})),l=d.find((function(t){return t.id===e.movie.id})),j=!!r||!!l,o=!!l;return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"container",children:[e.movie.poster_path?Object(a.jsx)("div",{className:"item1",children:Object(a.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(e.movie.poster_path),alt:"movie path"})}):Object(a.jsx)("div",{className:"filler"}),Object(a.jsx)("div",{className:"item2",children:Object(a.jsx)("span",{children:e.movie.title})}),Object(a.jsx)("div",{className:"item3",children:Object(a.jsx)("span",{children:e.movie.release_date.substring(0,4)})}),Object(a.jsxs)("div",{className:"item5",children:[Object(a.jsx)("button",{className:"button",onClick:function(){return c(e.movie)},disabled:j,children:"Add to Watch List"}),Object(a.jsx)("button",{className:"button",onClick:function(){return n(e.movie)},disabled:o,children:"Add to Watched"})," "]})]})})}function f(){var e=Object(i.useState)(""),t=Object(o.a)(e,2),c=t[0],s=t[1],n=Object(i.useState)([]),d=Object(o.a)(n,2),r=d[0],l=d[1],j=Object(i.useRef)(null);return Object(i.useEffect)((function(){j.current.focus()}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)("form",{children:Object(a.jsx)("input",{type:"text",placeholder:"Search for a movie",value:c,onChange:function(e){e.preventDefault(),s(e.target.value);var t=encodeURIComponent(c);fetch("https://api.themoviedb.org/3/search/movie?api_key=2275e0d385947cc56fd79c498e925dba&page=1&include_adult=false&query=".concat(t)).then((function(e){return e.json()})).then((function(e){e.errors?l([]):l(e.results)})).catch((function(e){console.error(e)}))},className:"inputText",ref:j})}),Object(a.jsx)("div",{children:r.length>0&&Object(a.jsx)("ul",{children:r.map((function(e){return Object(a.jsx)("li",{className:"list",children:Object(a.jsx)(x,{movie:e})},e.id)}))})})]})}function p(e){var t=e.movie,c=Object(i.useContext)(u),s=c.addMovieToWatchlist,n=c.removeMovieFromWatched;return Object(a.jsx)("div",{children:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{className:"buton",onClick:function(){s(t),n(t.id)},children:Object(a.jsx)("i",{className:"fa fas fa-eye-slash"})}),Object(a.jsx)("button",{className:"buton",onClick:function(){return n(t.id)},children:Object(a.jsx)("i",{className:"fa far fa-window-close"})})]})})}c(20);function g(e){var t=e.movie;return Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"grid-container",children:Object(a.jsx)("div",{className:"wrapper",children:Object(a.jsxs)("div",{className:"img",children:[Object(a.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"",className:"image"}),Object(a.jsx)("div",{className:"overlay",children:Object(a.jsx)(p,{movie:t})})]})})})})}function N(){var e=Object(i.useContext)(u).addWatched;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"watchedHeading",children:[Object(a.jsx)("h1",{children:"Movies Watched"}),1===e.length?Object(a.jsxs)("h3",{className:"pillbackground",children:[e.length," movie"]}):Object(a.jsxs)("h3",{className:"pillbackground",children:[e.length," movies"]})]}),e.length>0?Object(a.jsx)("ul",{className:"list grid-container",children:e.map((function(e){return Object(a.jsx)("li",{children:Object(a.jsx)(g,{movie:e})},e.id)}))}):Object(a.jsx)("h2",{children:"There are no movies in the watched list, ADD SOME!"})]})}c(21);function W(e){var t=e.movie,c=Object(i.useContext)(u),s=c.addMovieToWatched,n=c.removeMovieFromWatchlist;return Object(a.jsx)("div",{children:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{className:"buton",onClick:function(){s(t),n(t.id)},children:Object(a.jsx)("i",{className:"fa fas fa-eye"})}),Object(a.jsx)("button",{className:"buton",onClick:function(){return n(t.id)},children:Object(a.jsx)("i",{className:"fa far fa-window-close"})})]})})}function M(e){var t=e.movie,c=e.type;return Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"grid-container",children:Object(a.jsx)("div",{className:"wrapper",children:Object(a.jsxs)("div",{className:"img",children:[Object(a.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"",className:"image"}),Object(a.jsx)("div",{className:"overlay",children:Object(a.jsx)(W,{type:c,movie:t})})]})})})})}function _(){var e=Object(i.useContext)(u).addWatchlist;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"watchlistHeading",children:[Object(a.jsx)("h1",{children:"Movie Watchlist"}),1===e.length?Object(a.jsxs)("h3",{className:"pillbackground",children:[e.length," movie"]}):Object(a.jsxs)("h3",{className:"pillbackground",children:[e.length," movies"]})]}),e.length>0?Object(a.jsx)("ul",{className:"list grid-container",children:e.map((function(e){return Object(a.jsx)("li",{children:Object(a.jsx)(M,{movie:e})},e.id)}))}):Object(a.jsx)("h2",{style:{color:"#C5C6C7",fontFamily:"Papyrus"},children:"There are no movies in the watchlist, ADD SOME!"})]})}c(40);var C=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(v,{children:Object(a.jsx)(r.a,{children:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(j,{}),Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{exact:!0,path:"/",children:Object(a.jsx)(_,{})}),Object(a.jsx)(l.a,{path:"/Watched",children:Object(a.jsx)(N,{})}),Object(a.jsx)(l.a,{path:"/Add",children:Object(a.jsx)(f,{})})]})]})})})})};d.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(C,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.efd5c4b0.chunk.js.map